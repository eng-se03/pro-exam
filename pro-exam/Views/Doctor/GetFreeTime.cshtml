@using pro_exam.ViewModel
@model DoctorScheduleViewModel

<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جدول المدرسين</title>

    <!-- رابط Bootstrap CDN -->
@*     <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
 *@    <!-- رابط CSS مخصص -->
    <link href="~/css/custom.css" rel="stylesheet">
</head>

<body>

    <!-- زر الرجوع للأعلى -->
    <button id="backToTop" onclick="scrollToTop()">⬆️</button>

    <div class="container mt-5">
        <h2 class="text-center mb-4">جدول الأحد والثلاثاء والخميس</h2>
        <table class="table table-striped table-hover shadow-sm rounded" style="width:100%">
            <thead class="thead-dark">
                <tr>
                    <th>الوقت المتاح</th>
                    <th>اسم االدكتور</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var doctor in Model.SundayTuesdayThursdayDoctors)
                {
                    <tr>
                       
                        <td>من @doctor.StartTime.ToString(@"hh\:mm") إلى @doctor.EndTime.ToString(@"hh\:mm")</td>
                        <td>@doctor.DoctorName</td>
                    </tr>
                }
            </tbody>
        </table>

        <h4>أوقات الفراغ:</h4>
        <ul>
            @foreach (var freeTime in ViewBag.SundayTuesdayThursdayFreeTimes as List<string>)
            {
                <li>@freeTime</li>
            }
        </ul>

        <h2 class="text-center mt-4" style="padding:15px">جدول الاثنين والأربعاء</h2>
        <table class="table table-striped table-hover shadow-sm rounded" style="width:100%">
            <thead class="thead-dark">
                <tr>
                  
                    <th>الوقت المتاح</th>
                    <th>اسم الدكتور</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var doctor in Model.MondayWednesdayDoctors)
                {
                    <tr>
                      
                        <td>من @doctor.StartTime.ToString(@"hh\:mm") إلى @doctor.EndTime.ToString(@"hh\:mm")</td>
                        <td>@doctor.DoctorName</td>
                    </tr>
                }
            </tbody>
        </table>

        <h4>أوقات الفراغ:</h4>
        <ul>
            @foreach (var freeTime in ViewBag.MondayWednesdayFreeTimes as List<string>)
            {
                <li>@freeTime</li>
            }
        </ul>
    </div>

    <!-- JavaScript Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- JavaScript Custom -->
    <script>
        // تأثير فتح تدريجي للجدول عند تحميل الصفحة
        document.addEventListener("DOMContentLoaded", function () {
            const tables = document.querySelectorAll(".table");
            tables.forEach(table => {
                table.style.opacity = 1;
                table.style.transform = "translateY(0)";
            });
        });

        // تأثير تمييز الصف عند التمرير عليه
        function highlightRow(row) {
            row.style.fontWeight = "bold";
            row.style.backgroundColor = "#d0ebff";
        }

        function unhighlightRow(row) {
            row.style.fontWeight = "normal";
            row.style.backgroundColor = "";
        }

        // إضافة زر "الرجوع للأعلى" عند التمرير للأسفل
        window.onscroll = function () { toggleBackToTopButton(); };

        function toggleBackToTopButton() {
            const backToTopButton = document.getElementById("backToTop");
            if (document.documentElement.scrollTop > 200) {
                backToTopButton.style.display = "block";
            } else {
                backToTopButton.style.display = "none";
            }
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>

</html>
